/* $id: mybox_func.js (c) Tracenetwork Corporation Sdn. Bhd. $ */
if((top.frames.length==0) && (location.href.indexOf('diag_logread.exh') <= 0) && (location.href.indexOf('index.exh') <= 0)) {top.location='index.exh';}
function Trim(str) {return(str.replace(/^\s*/,'').replace(/\s*$/,'').replace(/^\t*/,'').replace(/\t*$/,'').replace(/^\f*/,'').replace(/\f*$/,'').replace(/^\r*/,'').replace(/\r*$/,''));}
function isnum(num) {var m=/^(\d+)$/;if(num.match(m)==null) {return false;};return true;}
function mip1(ip) {var m=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re=ip.match(m);if(re==null) { return false; };for(var x=1;x<re.length;x++) {if(re[x] > 255) { return false; }};return true;}
function mip1list(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mip1(list);};for(var x=1;x<rel;x++) {if(mip1(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function mipp(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m4=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\-(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else if(ip.match(m4)!=null) {re=ip.match(m4); } else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function cpiplist(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mipp(list);};for(var x=1;x<rel;x++) {if(mipp(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function natmipp(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m4=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\-(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else if(ip.match(m4)!=null) {re=ip.match(m4); } else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function natcpiplist(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mipp(list);};for(var x=1;x<rel;x++) {if(mipp(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function mippmac(ip) {var mm=0; var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m4=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\-(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m5=/^([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else if(ip.match(m4)!=null) {re=ip.match(m4); } else if(ip.match(m5)!=null) {re=ip.match(m5);mm=1; }else {return false;};if(mm!=1) { for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }}};if(ok==0) {return true;};return false;}
function cpiplistmac(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mippmac(list);};for(var x=1;x<rel;x++) {if(mippmac(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function natmippmac(ip) {var mm=0; var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m4=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\-(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m5=/^([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})[-: ]?([0-9a-fA-F]{0,2})$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else if(ip.match(m4)!=null) {re=ip.match(m4); } else if(ip.match(m5)!=null) {re=ip.match(m5);mm=1; }else {return false;};if(mm!=1) { for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }}};if(ok==0) {return true;};return false;}
function natcpiplistmac(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return natmippmac(list);};for(var x=1;x<rel;x++) {if(natmippmac(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function mapmipp(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function mapcpiplist(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mapmipp(list);};for(var x=1;x<rel;x++) {if(mapmipp(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function pm(port) {port=Trim(port);var m1=/^\d+$/;var m2=/^\d+\-\d+$/;var m3=/^\d+\:\d+$/;var ok='0';if(port.match(m1)!=null) {ok++;} else if(port.match(m2)!=null) {ok++;} else if(port.match(m3)!=null) {ok++;} else {return false;};if(ok!=0) {return true;};return false;}
function natpm(port) {port=Trim(port);var m1=/^\d+$/;var m2=/^\d+\-\d+$/;var ok='0';if(port.match(m1)!=null) {ok++;} else if(port.match(m2)!=null) {ok++;} else {return false;};if(ok!=0) {return true;};return false;}
function mip1p(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var m3=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else if(ip.match(m3)!=null) {re=ip.match(m3); } else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function mip1plist(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };if(rel==1) {return mip1p(list);};for(var x=1;x<rel;x++) {if(mip1(re[x])==false) { ok++; }};if(ok==0) {return true;};return false;}
function miipr(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function mmac(mac) {if(mac.length != 17) return false;var m=/^(\S\S\:\S\S\:\S\S\:\S\S\:\S\S\:\S\S)$/;var re=mac.match(m);if(re==null) { return false; }; return true;}
function mip3p(ip) {var m1=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;var m2=/^(\d+)\.(\d+)\.(\d+)\.(\d+)\/(\d\d)$/;var re;var ok='0';if(ip.match(m1)!=null) {re=ip.match(m1);} else if(ip.match(m2)!=null) {re=ip.match(m2);} else {return false;};for(var x=1;x<re.length;x++) {if(re[x] > 255) { ok++; }};if(ok==0) {return true;};return false;}
function check_valid_email(email) {var m=/^.+\@(\[?)[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,3}|[0-9]{1,3})(\]?)$/;if(email.match(m)==null) {return false;};return true;}
function dohide_show(id) {if(document.getElementById(id)){if(document.getElementById(id).style.display==''){document.getElementById(id).style.display='none';}else{document.getElementById(id).style.display='';}}}
function do_hide(id) {if(document.getElementById(id)){document.getElementById(id).style.display='none';}}
function do_show(id) {if(document.getElementById(id)){document.getElementById(id).style.display='';}}
function loadimages() {if(document.images){if(!document.p) { document.p=new Array(); }; var i,j=document.p.length,a=loadimages.arguments;for(i=0; i<a.length; i++) {if(a[i].indexOf("#")!=0){ document.p[j]=new Image; document.p[j++].src=a[i];}}}}
function pop_msg(txt) {alert(txt);return false;}
function error(str) {if(document.getElementById("msg")) {self.location.href='#';do_show('msgi');document.getElementById("msg").innerHTML=str;}else{pop_msg(str);}};
function basename(path) { var m1=/.*\//;var m2=/.*\\/; if(path.match(m1)!=null) { return path.replace(m1,''); } else if(path.match(m2)!=null) {return path.replace(m2,'')}; return false;}
function unixtimetodate(timestamp) {var p=new Date(timestamp * 1000);return p.toGMTString();}
function datetounixtime(day,month,year,hour,minute,second) {var p=new Date(Date.UTC(year, (month - 1),day,hour,minute,second)); return (p.getTime()/1000.0);}
function page_load() {LeftPosition=(screen.width) ? (screen.width-620)/2 : 0;TopPosition=(screen.height) ? (screen.height-530)/2 : 0;var txt='';txt +="<div id='loading' style='cursor:wait; opacity: .8; position: absolute; left: "+LeftPosition+"px; top: "+TopPosition+"px; background-color: #ffffff; border-color: #ff6600; border-style: solid; border-width: 1px; padding-left: 20px; padding-right: 20px; padding-top: 10px; padding-bottom: 10px; font-weight: bold; font-size: 12px; color: #000000;'><img src='i/spinner.gif' border=0>&nbsp;Page Loading..Please Wait....</div>";document.write(txt);}
function page_kill() {if(document.getElementById('loading')) document.getElementById('loading').style.display="none";}
function pmlist(list) {list=Trim(list);var re=list.split(" ");var ok='0';var rel=re.length;if(re==null) { return false; };var m1=/^\d+$/;var m2=/^\d+\:\d+$/;var ok='0';var port;for(var x=1;x<rel;x++) {port=re[x];if(port.match(m1)!=null) {ok++;} else if(port.match(m2)!=null) {ok++;} else {return false;};}; if(ok!=0) {return true;};return false;}
function pmn(port) {port=Trim(port);var m1=/^\d+$/;var m2=/^\d+\:\d+$/;var ok='0';if(port.match(m1)!=null && port <= 65535) {ok++;} else if(port.match(m2)!=null) {var q=port.split(":");if(q[1] <= 65535 || q[2] <= 65535) {ok++;} } else {return false;};if(ok!=0) {return true;};return false;}
function insert_value(id,txt) {if(document.getElementById(id)){document.getElementById(id).value=txt;}}
function dohide_show_def(id) {if(document.getElementById(id)){if(document.getElementById(id).style.display==''){document.getElementById(id).style.display='none';}else{document.getElementById(id).style.display='';document.getElementById(id).style.left=pointerx;document.getElementById(id).style.top=pointery;}}}
var cnt_reload=0;
function page_reload(tick,url) {cnt_reload=cnt_reload+2;if(cnt_reload <= 100) {do_show('msgi');document.getElementById("msg").innerHTML='Reloading configuration..'+cnt_reload+'%';setTimeout(waitcount,tick);} else {self.location.href=url;}}
function dotoggle() {for(var i=0; i < document.f.elements.length; i++) {if(document.f.elements[i].type=='checkbox') {if(document.f.elements[i].name.substr( 0, 3 ) == 'del') {document.f.elements[i].checked=!(document.f.elements[i].checked);}}}}
function clear_toggle() {for(var i=0; i < document.f.elements.length; i++) {if(document.f.elements[i].type=='checkbox') {if(document.f.elements[i].name.substr( 0, 3 ) == 'del') {document.f.elements[i].checked=false;}}}}
function chkdel() {var x='0';for(var i=0; i < document.f.elements.length; i++) {if(document.f.elements[i].type=='checkbox') {if(document.f.elements[i].name.substr( 0, 3 ) == 'del') {if(document.f.elements[i].checked) x++;}}};if(x==0) {pop_msg("Please make selection");return false;}; return true;}
function do_delete(val) {if(val=='') {return false;}; if(chkdel()!=false) {if(confirm('Are you sure you want to proceed?')) {document.f.do_save.value=val;document.f.submit();}}};
function pf_do_delete(val) {if(val=='') {return false;}; if(chkdel()!=false) {if(val==2 && confirm('Are you sure you want to proceed?')) {document.f.do_save.value=val;document.f.submit();} else {document.f.do_save.value=val;document.f.submit();}}; return false;};
var pointerx=0;var pointery=0;document.onmousemove=getpointer;
function getpointer(ev){ev=ev || window.event;if(ev.pageX || ev.pageY){pointerx=ev.pageX;pointery=ev.pageY;} else {pointerx=ev.clientX + document.body.scrollLeft - document.body.clientLeft;pointery=ev.clientY + document.body.scrollTop  - document.body.clientTop;}}
function do_def_val(id,id2,n,a,b) {
	var txt='';
	txt +="<input name=\""+n+"\" type=\"text\" class=\"valbox2\" style=\"cursor: pointer; background: #ffffff url('/i/dfolder_close.gif') no-repeat right;\" value=\""+a+"\""; 
	txt +="onmouseover=\"return overlib('"+b+"',HAUTO,VAUTO,WIDTH,-1,BGCOLOR,'#ff6600',FGCOLOR,'#fae5b0',TEXTSIZE, '12px');\""; 
	txt +="onmouseout=\"return nd();\" onclick=\"dohide_show_def('"+id2+"');return false;\" readonly>";
	document.getElementById(id).innerHTML=txt;
};
function load_menu(menu,sid,iid) {if(parent.left_frame.switchmenu) {parent.left_frame.switchmenu(menu);}if(parent.left_frame.link_href) {parent.left_frame.link_href(sid,iid,'none');}};
function page_idle_chk(){/*nothing*/};
function search_enter(e) {var keynum=0;if(window.event) { keynum=e.keyCode; } else if(e.which) {keynum=e.which;}; if(keynum==13) { return do_search(); }; return true;}
function do_search() {if(document.f.str) {var str=Trim(document.f.str.value);if(str=='') {document.f.str.focus();return false;};document.f.submit();return true;}; return false;}
function search_enter_log(e) {var keynum=0;if(window.event) { keynum=e.keyCode; } else if(e.which) {keynum=e.which;}; if(keynum==13) { return do_search_log(); }; return true;}
function strip_defname(e) {var keychar;var keynum=0;if(window.event) { keynum=e.keyCode; } else if(e.which) {keynum = e.which;}; keychar=String.fromCharCode(keynum);if(keychar.match(/,/)!=null || keychar.match(/\$/)!=null || keychar.match(/;/)!=null || keychar.match(/'/)!=null) {return false;};return keychar;}
function delete_row_a(rid,sid) {var ar=document.getElementById(sid).getElementsByTagName("a");for(var i=0; i<ar.length; i++) {if(ar[i].id) {if(ar[i].id==rid) {document.getElementById(sid).deleteRow(i);}}}; i=null; };
function chk_dup_search(cnt,p1,vale,val,rt) {var p2='';for(var i = 0; i < document.f.elements.length; i++) {if(i==cnt) { continue; };if(document.f.elements[i].type==rt) {if( document.f.elements[i].name.substr( 0, vale ) == val) {p2=Trim(document.f.elements[i].value);if(p2!='' && p1==p2) {pop_msg("Duplicate value '"+p2+"' detected");return true;};}}};return false;};
function chk_dup_val(val,rt) {var p='';var vale=val.length;for(var i = 0; i < document.f.elements.length; i++) {if(document.f.elements[i].type==rt) {if( document.f.elements[i].name.substr( 0, vale ) == val) {p=Trim(document.f.elements[i].value);if(p!='') {if(chk_dup_search(i,p,vale,val,rt)==true) {document.f.elements[i].value='';return true;}}}}};return false;};

